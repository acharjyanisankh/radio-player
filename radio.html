<!doctype html>
<html>
<head>
<style>
*{margin: 0; padding 0;}
body{background-color: #000; text-align: center;}
html,body{width:100%;height:100%;overflow:hidden;}
canvas{width:100%;height:90%}
#controls{position:absolute; right: 0; bottom:0; width: 300px; height: 200px; display: block}
</style>
<script src="codef_core.js"></script> 
<script src="codef_starfield.js"></script> 
<script src="codef_scrolltext.js"></script> 
<script src="codef_3d.js"></script>
<script> 
	var canvas, starfield, scrolltext, s3d;
	var font = new image('font2.png');
	var scanline = new image('scanline.png');
  var scrollparam=[{myvalue: 0, amp: 30, inc:0.2, offset: -0.04}];
	var obj = new Array();
	var objvert = new Array();

  objvert=[
			{x:1, y:1, z:1},
			{x:1, y:-1, z:1},
			{x:-1, y:-1, z:1},
			{x:-1, y:1, z:1},
			{x:1, y:1, z:-1},
			{x:1, y:-1, z:-1},
			{x:-1, y:-1, z:-1},
			{x:-1, y:1, z:-1}, //1st cube

			{x:2, y:2, z:2},
			{x:2, y:-2, z:2},
			{x:-2, y:-2, z:2},
			{x:-2, y:2, z:2},
			{x:2, y:2, z:-2},
			{x:2, y:-2, z:-2},
			{x:-2, y:-2, z:-2},
			{x:-2, y:2, z:-2}, //2nd cube
		   ];
		   
	obj=[ 
			{p1:0, p2:1},
			{p1:1, p2:2},
			{p1:2, p2:3},
			{p1:3, p2:0}, //1st cube up

			{p1:4, p2:5},
			{p1:5, p2:6},
			{p1:6, p2:7},
			{p1:7, p2:4}, //1st cube down

			{p1:0, p2:4},
			{p1:1, p2:5},
			{p1:2, p2:6},
			{p1:3, p2:7}, //1st cube sides
			
			{p1:8, p2:9},
			{p1:9, p2:10},
			{p1:10, p2:11},
			{p1:11, p2:8}, //2st cube up

			{p1:12, p2:13},
			{p1:13, p2:14},
			{p1:14, p2:15},
			{p1:15, p2:12}, //2st cube down

			{p1:8, p2:12},
			{p1:9, p2:13},
			{p1:10, p2:14},
			{p1:11, p2:15}, //2st cube sides
			
			{p1:0, p2:8},
			{p1:1, p2:9},
			{p1:2, p2:10},
			{p1:3, p2:11}, //4D links up

			{p1:4, p2:12},
			{p1:5, p2:13},
			{p1:6, p2:14},
			{p1:7, p2:15}, //4D links down
		  ];

	function init(){
	        var width=840, height=420;
		canvas  = new canvas(width, height, "main");
		font.initTile(32,32,32);
		scrolltext = new scrolltext_horizontal();
		scrolltext.scrtxt="RADIO M1CH3L              ";
		scrolltext.init(canvas, font, 1, scrollparam);

		s3d=new codef3D(canvas, 20, 20, 2, 50 );
		s3d.lines(objvert, obj, new LineBasicMaterial({ color: 0x00ffff, linewidth:2}));

		starfield = starfield3D(canvas, 
			  200, //numStars
			  1, //speed
			  width, //width
			  height, //height
			  10, //center x,
			  this.height/2, //center y
			  '#FFF', //color
			  100, //ratio,
			  0,
			  0);
		go();
    document.getElementById('loader').style.display = 'none';
  }

	function go(){
		canvas.fill('#000');
		s3d.group.rotation.x+=0.01;
		s3d.group.rotation.y+=0.02;
		s3d.group.rotation.z+=0.04;
		starfield.draw();
		s3d.draw();
		scrolltext.draw(50-16);
		requestAnimFrame( go );
	}
</script>
</head>
<body onload="init();">
<div id="main"></div>
    <img id="loader" src="loader.gif"><br/>
    <div id="controls">
      <audio autoload="true" autoplay="true" controls>
	<source src="http://88.190.241.57:8000/m1ch3l-128.mp3">
	  <source src="http://212.83.158.125:8000/m1ch3l-128.mp3">
      </audio>
      <a href="playlist.m3u">
	<img src="play.png" />
      </a>
    </div>

    <a href="https://github.com/m1ch3l/radio-player" target="_blank">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub">
    </a>

</body>
</html>
